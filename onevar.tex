
\documentclass{drl-common/llncs}

\usepackage{multicol}
\usepackage{mathptmx}
\usepackage{color}
\usepackage[cmex10]{amsmath}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{drl-common/proof}
\usepackage{drl-common/typesit}
\usepackage{drl-common/typescommon}
\usepackage[square,numbers,sort]{natbib}
%% \usepackage{arydshln}
\usepackage{graphics}
\usepackage{url}
\usepackage{relsize}
\usepackage{fancyvrb}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}
\usepackage{tipa}

\usepackage{drl-common/code}
\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small,fontfamily=tt}

%% small tightcode, with space around it
\newenvironment{stcode}
{\smallskip
\begin{small}
\begin{tightcode}}
{\end{tightcode}
\end{small}
\smallskip}

\title{Adjoint Logic with a 2-Category of Modes}

\author{Daniel R. Licata\inst{1} \and Michael Shulman\inst{2}
\thanks{
This material is based on research sponsored by The United States Air
Force Research Laboratory under agreement number FA9550-15-1-0053. The
U.S. Government is authorized to reproduce and distribute reprints for
Governmental purposes notwithstanding any copyright notation thereon.
The views and conclusions contained herein are those of the authors and
should not be interpreted as necessarily representing the official
policies or endorsements, either expressed or implied, of the United
States Air Force Research Laboratory, the U.S. Government, or Carnegie
Mellon University.
}}

\institute{Wesleyan University \and University of San Diego}

\begin{document}
\maketitle

\begin{abstract}
ABSTRACT
\end{abstract}

\newcommand{\C}{\ensuremath{\mathcal{C}}}
\newcommand{\D}{\ensuremath{\mathcal{D}}}
\newcommand{\la}{\ensuremath{\dashv}}
\newcommand{\arrow}[3]{\ensuremath{#2 \longrightarrow_{#1} #3}}
\newcommand{\sh}{\text{\textesh}}

\section{Introduction}

An adjunction $F \la U$ between categories \C and \D\/ consists of a
pair of functors $F : \C \to \D$ and $U : \D \to \C$ such that maps
\arrow{\D}{F C}{D} correspond naturally to maps \arrow{\C}{C}{U D}.  A
prototypical adjunction, which provides a mnemonic for the notation, is
where $U$ takes the underlying set of some algebraic structure such as a
group, and $F$ is the free structure on a set---the adjunction property
says that a structure-preserving map from $F C$ to $D$ corresponds to a
a map of sets from $C$ to $U D$ (because the action on the structure is
determined by being a homomorphism).  Adjunctions are important to the
proof theories and $\lambda$-calculi of modal logics, because the
composite $FU$ is a comonad on \D, while $UF$ is a monad on $\C$.
\citet{bentonwadler96adjoint} describe an adjoint $\lambda$-calculus for
mixing linear logic and structural/cartesian logic, with functors $U$
from linear to cartesian and $F$ from cartesian to linear; the $! A$
modality of linear logic arises as the comonad $FU$.
\citet{reed09adjoint} describes a generalization of this idea to
situations involving more than one category: the logic is parametrized
by a preorder of \emph{modes}, where every mode $p$ determines a
category, and there is an adjunction between categories $p$ and $q$
exactly when $p \ge q$.  For example, the intuitionistic modal logics of
\citet{pfenningdavies} can be encoded as follows: the necessitation
modality $\Box$ is the comonad $FU$ for an adjunction between ``truth''
and ``validity'' categories, the lax modality $\bigcirc$ is the monad
$UF$ of an adjunction between ``truth'' and ``lax truth'' categories,
while the possibility modality $\diamond$ requires a more complicated
encoding involving four adjunctions between four categories.  While
specific adjunctions such as $(- \times A) \la (A \to -)$ arise in any
logic, these calculi provide a formalism for abstract/uninterpreted
adjunctions.

In Reed's logic, modes are specified by a preorder, which allows at most
one adjunction between any two categories (more precisely, there can be
two isomorphic adjunctions if both $p \ge q$ and $q \ge p$).  However,
it is sometimes useful to consider multiple different adjunctions
between the same two categories.  A motivating example is Lawvere's
axiomatic cohesion~\citep{lawvereXXcohesion}, a general categorical
interface that describes \emph{cohesive spaces}, such as topological
spaces and manifolds with differentiable or smooth structures.  The
interface consists of two categories \C and $\mathcal{S}$, quadruple of
adjoint functors $\Pi_0 \la \Delta \la \Gamma \la \nabla$, where
$\Gamma,\Pi_0 : \mathcal{C} \to \mathcal{S}$ and $\Delta,\nabla :
\mathcal{S} \to \mathcal{C}$ (satisfying certain additional conditions).
The idea is that $\mathcal{S}$ is some category of sets, which provides
a notion of ``point'', and \C is some category of cohesive spaces built
out of these sets, where points may be stuck together in some way
(e.g. via topology).  $\Gamma$ takes the underlying set of points a
cohesive space, forgetting the cohesive structure.  Its left adjoint
$\Delta$ equips a set with \emph{discrete cohesion}, where no points are
stuck together; the adjunction says that a map \emph{from} a discrete
space is the same as a map of sets.  Its right adjoint $\nabla$ equips a
set with codiscrete cohesion, where all points are stuck together; the
adjunction says that a map \emph{into} a codiscrete space is the same as
a map of sets.  The left adjoint of $\Delta$, $\Pi_0$ gives the set of
connected components---i.e. each element is an equivalence class of
points that are stuck together.  $\Pi_0$ is important because it
translates some of the cohesive information about a space into a setting
where we no longer need to care about the cohesion.  These functors must
satisfy some additional laws, such as $\Delta$ and $\nabla$ being fully
faithful (maps between discrete or codiscrete spaces should be the same
as maps of sets).  

A variation on axiomatic cohesion called \emph{cohesive homotopy type
  theory}~\citep{ss,s15} is currently being explored in the setting of
homotopy type theory and univalent
foundations~\citep{voevodsky06note,uf13hott-book}.  Homotopy type theory
uses Martin-L\"of's intensional type theory as a logic \emph{homotopy
  spaces}: the identity type of type theory provides an
$\infty$-groupoid structure on each type~\citep{...}, and spaces such as
the spheres can be defined by their universal properties using higher
inductive types~\citep{...}.  Theorems from homotopy theory can be
proved \emph{synthetically} in this
logic~\citep{ls13pi1s1,lb13pinsn,...}, and these proofs can be
interpreted in a variety of models~\citep{...}.  However, an important
but subtle distinction is that there is no topology (in the sense of
\citep{scott,etc}) in synthetic homotopy theory: the ``homotopical
circle'' is defined as a higher inductive type, essentially ``the free
$\infty$-groupoid on a point and a loop,'' which a priori has nothing to
do with the ``topological circle,'' $\{ (x,y) \in \mathbb{R}^2 \mid x^2
+ y^2 = 1\}$, where $\mathbb{R}^2$ has the usual topology.  This is both
a blessing and a curse: on the one hand, proofs are not encumbered by
details such as the definition of paths as continuous maps from the real
interval; but on the other, internally to homotopy type theory, we
cannot use synthetic theorems to prove facts about topological spaces.

Cohesive homotopy type theory combines the synthetic homotopy theory of
homotopy type theory with the synthetic topology of axiomatic cohesion,
using an adjoint quadruple $\sh \la \Delta \la \Gamma \la \nabla$.  In
this higher categorical generalization, $\mathcal{S}$ is an
$(\infty,1)$-category of homotopy spaces (e.g. $\infty$-groupoids), and
$\C$ is an $(\infty,1)$-category of homotopy spaces that are
additionally equipped with a topological or other cohesive structure at
each level.  The rules of type theory are now interpreted in \C, so that
each type has an $\infty$-groupoid structure (given by the identity
type) \emph{as well as} a separate cohesive structure on its objects,
morphisms, morphisms between morphisms, etc.  For example, types have
both morphisms, given by the identity type, and topological paths, given
by maps from some interval that are continuous in the sense of the
cohesion.  As in the 1-categorical case, $\Gamma$ forgets the cohesive
structure, yielding the underlying homotopy space, while $\Delta$ and
$\nabla$ equip a homotopy space with the discrete and codiscrete
cohesion.  But in the $\infty$-categorical case, $\Delta$'s left adjoint
$\sh A$ (pronounced ``shape of $A$'') generalizes from the connected
components to the \emph{fundamental homotopy space} functor, which makes
a homotopy space from the topological/cohesive paths, paths between
paths, etc. of $A$.  This captures the process by which homotopy spaces
arise from cohesive spaces internally; one can prove, for example, that
the shape of the topological circle is the algebraic circle.  This
extension allows synthetic homotopy theory to be used in proofs about
topological spaces~\citep{s15}, and opens up additional possibilities
for using synthetic homotopy theory as a tool in other areas of
mathematics and theoretical physics.  

This paper begins an investigation into the structural proof theory of
cohesive homotopy type theory, as a special case of generalizing Reed's
adjoint logic to allow multiple adjunctions between two categories.




From a proof-theoretic perspective the $\Gamma$ in a triple adjunction
$\Delta \la \Gamma \la \nabla$ is a bit of an odd duck, because it is
both a right and a left adjoint, and so should behave like both the $F$
and $U$ in adjoint logic.  One possibility would be to design rules for
a left-and-right-adjoint connective.  However, such a connective would
need to have an unusual focusing~\citep{andreoli92focus} behavior: In
any adjunction, left adjoints preserve colimits (e.g. coproducts) and
right adjoints preserve limits (e.g. products).  In focusing, limits are
negative connectives (invertible on the right, focus on the left), while
colimits are positive connectives (invertible on the left, focus on the
right), and in general like-polarity connectives compose together well.
Reed's adjoint logic is compatible with these two facts, because it
admits a focusing interpretation where the left adjoint $F$ is positive
and the right adjoint $U$ is negative.  However, if $\Gamma$ is both a
left and a right adjoint, it seems like it would need to be both
positive and negative.  

Instead of giving rules for an ambipolar connective, we will provide a
logic in which this comes true up to isomorphism: we can describe a quadruple
\[
F \la U \cong F' \la U'
\]
and then define $\Delta := F$, $\nabla := U'$, $\Gamma := U \cong F'$.
That is, the functor $\Gamma$ will be defined to be one of two naturally
isomorphic functors, one of which is a left adjoint/positive and the
other of which is a right adjoint/negative.  This idea is present in
Reed's encoding of labeled deduction~\citep[Section ?]{reed09adjoint},
where two modes $p,q$ such that $p \ge q$ and $q \ge p$ give rise to
adjunctions $F \la U$ and $F' \la U'$ such that $F \cong U'$ and $U
\cong F'$.  However, in the case of an adjoint triple, we want $U \cong
F'$ but not $F \cong U'$, because $\Delta$ and $\nabla$ are not the
same.  

The first step in enriching the mode specifications to cover this case
is to generalize the mode preorder to a mode category, so that we can
have multiple different morphisms $p \ge q$, and therefore we can have
$p \ge q$ and $q \ge p$ without $p$ being isomorphic to $q$.  However, a
1-category of modes is not enough to capture the relationships between
these different adjunctions---we need to say that $U \cong F'$ but not
$F \cong U'$.  To accomplish this, we consider a 

Definitional vs. propositional equality of proofs.  

Simplifications: one variable, 1-categorical semantics.  








%% \setlength{\bibsep}{-1pt} %% dirty trick: make this negative
{ %% \small
%% \linespread{0.70}
\bibliographystyle{abbrvnat}
\bibliography{drl-common/cs}
}


\end{document}
