
\documentclass{drl-common/llncs}

\usepackage{drl-common/diagrams}
\usepackage{multicol}
\usepackage{mathptmx}
\usepackage{color}
\usepackage[cmex10]{amsmath}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{drl-common/proof}
\usepackage{drl-common/typesit}
\usepackage{drl-common/typescommon}
\usepackage[square,numbers,sort]{natbib}
%% \usepackage{arydshln}
\usepackage{graphics}
\usepackage{url}
\usepackage{relsize}
\usepackage{fancyvrb}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}
\usepackage{tipa}

\usepackage{drl-common/code}
\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small,fontfamily=tt}

\makeatletter
\renewcommand\bibsection%
{
  \section*{\refname
    \@mkboth{\MakeUppercase{\refname}}{\MakeUppercase{\refname}}}
}
\makeatother

%% small tightcode, with space around it
\newenvironment{stcode}
{\smallskip
\begin{small}
\begin{tightcode}}
{\end{tightcode}
\end{small}
\smallskip}

\renewcommand{\sem}[1]{\ensuremath{ \llbracket #1 \rrbracket}}

\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}

\newcommand{\C}{\ensuremath{\mathcal{C}}}
\newcommand{\D}{\ensuremath{\mathcal{D}}}
\newcommand{\M}{\ensuremath{\mathcal{M}}}
\newcommand{\la}{\ensuremath{\dashv}}
\newcommand{\arrow}[3]{\ensuremath{#2 \longrightarrow_{#1} #3}}
\newcommand{\tc}[2]{\ensuremath{#1 \Rightarrow #2}}
\newcommand{\sh}{\text{\textesh}}
\newcommand{\Adj}{\textbf{Adj}}

\newcommand\compo[2]{\ensuremath{#1 \circ #2}}
\newcommand\compv[2]{\ensuremath{#1 \cdot #2}}
\newcommand\comph[2]{\ensuremath{#1 \mathbin{\circ_2} #2}}

\renewcommand\wftp[2]{\ensuremath{#1 \,\,\, \dsd{type}_{#2}}}
\newcommand\F[2]{\ensuremath{F_{#1} \,\, #2}}
\newcommand\U[2]{\ensuremath{U_{#1} \,\, #2}}
\newcommand\coprd[2]{\ensuremath{#1 + #2}}
\newcommand\seq[3]{\ensuremath{#1 \, [ #2 ] \, \vdash \, #3}}
\renewcommand\irl[1]{\dsd{#1}}

\newcommand\tr[2]{\ensuremath{{{#1}_{*}(#2)}}}
\newcommand\ident[1]{\ensuremath{\dsd{ident}_{#1}}}
\newcommand\cutsym{\ensuremath{\dsd{cut}}}
\newcommand\cut[2]{\ensuremath{{\cutsym \,\, #1 \,\, #2}}}
\newcommand\cuti{\ensuremath{\bullet}}

\newcommand\hyp[1]{\ensuremath{\dsd{hyp} \, {#1}}}
\newcommand\Inl[1]{\ensuremath{\dsd{Inl}(#1)}}
\newcommand\Inr[1]{\ensuremath{\dsd{Inr}(#1)}}
\newcommand\Case[2]{\ensuremath{\dsd{Case}(#1,#2)}}
\newcommand\UL[3]{\ensuremath{\dsd{UL}^{#1}_{#2}(#3)}}
\newcommand\FR[3]{\ensuremath{\dsd{FR}^{#1}_{#2}(#3)}}
\newcommand\FL[1]{\ensuremath{\dsd{FL}(#1)}}
\newcommand\UR[1]{\ensuremath{\dsd{UR}(#1)}}

\newcommand\ap[2]{\ensuremath{#1 \approx #2}}

\newcommand\Bx[2]{\ensuremath{\Box_{#1} \, {#2}}}
\newcommand\Crc[2]{\ensuremath{\bigcirc_{#1} \, {#2}}}

\newcommand\Flat[1]{\ensuremath{\flat \, {#1}}}
\newcommand\Sharp[1]{\ensuremath{\sharp \, {#1}}}

\newcommand\iso{\cong}
\newcommand\ltor[2]{\ensuremath{{#1^{\vartriangleright_{#2}}}}}
\newcommand\rtol[2]{\ensuremath{{#1^{\vartriangleleft_{#2}}}}}

%% \newtheorem{\example}[theorem]{Example}

\title{Adjoint Logic with a 2-Category of Modes}

\author{Daniel R. Licata\inst{1} \and Michael Shulman\inst{2}
\thanks{
This material is based on research sponsored by The United States Air
Force Research Laboratory under agreement number FA9550-15-1-0053. The
U.S. Government is authorized to reproduce and distribute reprints for
Governmental purposes notwithstanding any copyright notation thereon.
The views and conclusions contained herein are those of the authors and
should not be interpreted as necessarily representing the official
policies or endorsements, either expressed or implied, of the United
States Air Force Research Laboratory, the U.S. Government, or Carnegie
Mellon University.
}}

\institute{Wesleyan University \and University of San Diego}

\begin{document}
\maketitle

\begin{abstract}
We generalize the adjoint logics of Benton and Wadler (1994, 1996) and
Reed (2009) to allow multiple different adjunctions between the same
categories.  This provides insight into the structural proof theory of
cohesive homotopy type theory, which integrates the synthetic homotopy
theory of homotopy type theory with the synthetic topology of Lawvere's
axiomatic cohesion.  Reed's calculus is parametrized by a preorder of
modes, where each mode determines a category, and there is an adjunction
between categories that are related by the preorder.  Here, we consider
a logic parametrized by a 2-category of modes, where each mode
represents a category, each mode morphism represents an adjunction, and
each mode 2-morphism represents a morphism of adjunctions.  Using this,
we give mode theories that describe adjoint triples of the sort used in
cohesive homotopy type theory.  In this paper, we give a sequent
calculus, show that identity and cut are admissible, show that this
syntax is sound and complete for pseudofunctors from the mode 2-category
to the 2-category of adjunctions, and investigate some constructions in
the example mode theories.
\end{abstract}

\section{Introduction}

An adjunction $F \la U$ between categories \C and \D\/ consists of a
pair of functors $F : \C \to \D$ and $U : \D \to \C$ such that maps
\arrow{\D}{F C}{D} correspond naturally to maps \arrow{\C}{C}{U D}.  A
prototypical adjunction, which provides a mnemonic for the notation, is
where $U$ takes the underlying set of some algebraic structure such as a
group, and $F$ is the free structure on a set---the adjunction property
says that a structure-preserving map from $F C$ to $D$ corresponds to a
map of sets from $C$ to $U D$ (because the action on the structure is
determined by being a homomorphism).  Adjunctions are important to the
proof theories and $\lambda$-calculi of modal logics, because the
composite $FU$ is a comonad on \D, while $UF$ is a monad on $\C$.
\citet{benton94mixed,bentonwadler96adjoint} describe an adjoint
$\lambda$-calculus for mixing linear logic and structural/cartesian
logic, with functors $U$ from linear to cartesian and $F$ from cartesian
to linear; the $! A$ modality of linear logic arises as the comonad
$FU$, while the monad of Moggi's metalanguage~\citep{moggi91monad}
arises as $UF$.  \citet{reed09adjoint} describes a generalization of
this idea to situations involving more than one category: the logic is
parametrized by a preorder of \emph{modes}, where every mode $p$
determines a category, and there is an adjunction $F \la U$ between
categories $p$ and $q$ (with $F : q \to p$) exactly when $q \ge p$.  For
example, the intuitionistic modal logics of \citet{pfenningdavies} can
be encoded as follows: the necessitation modality $\Box$ is the comonad
$FU$ for an adjunction between ``truth'' and ``validity'' categories,
the lax modality $\bigcirc$ is the monad $UF$ of an adjunction between
``truth'' and ``lax truth'' categories, while the possibility modality
$\diamond$ requires a more complicated encoding involving four
adjunctions between four categories.  While specific adjunctions such as
$(- \times A) \la (A \to -)$ arise in many logics, adjoint logic
provides a formalism for abstract/uninterpreted adjunctions.

In Reed's logic, modes are specified by a preorder, which allows at most
one adjunction between any two categories (more precisely, there can be
two isomorphic adjunctions if both $p \ge q$ and $q \ge p$).  However,
it is sometimes useful to consider multiple different adjunctions
between the same two categories.  A motivating example is Lawvere's
axiomatic cohesion~\citep{lawvere07cohesion}, a general categorical
interface that describes \emph{cohesive spaces}, such as topological
spaces, or manifolds with differentiable or smooth structures.  The
interface consists of two categories \C and $\mathcal{S}$, and a
quadruple of adjoint functors $\Pi_0,\Gamma : \mathcal{C} \to
\mathcal{S}$ and $\Delta,\nabla : \mathcal{S} \to \mathcal{C}$ where
$\Pi_0 \la \Delta \la \Gamma \la \nabla$.  The idea is that
$\mathcal{S}$ is some category of ``sets'' that provides a notion of
``point'', and \C\/ is some category of cohesive spaces built out of
these sets, where points may be stuck together in some way (e.g. via
topology).  $\Gamma$ takes the underlying set of points of a cohesive
space, forgetting the cohesive structure.  This forgetful functor's
right adjoint $\Gamma \la \nabla$ equips a set with codiscrete cohesion,
where all points are stuck together; the adjunction says that a map
\emph{into} a codiscrete space is the same as a map of sets.  The
forgetful functor's left adjoint $\Delta \la \Gamma$ equips a set with
\emph{discrete cohesion}, where no points are stuck together; the
adjunction says that a map \emph{from} a discrete space is the same as a
map of sets.  The further left adjoint $\Pi_0 \la \Delta$, gives the set
of connected components---i.e. each element of $\Pi_0 C$ is an
equivalence class of points of $C$ that are stuck together.  $\Pi_0$ is
important because it translates some of the cohesive information about a
space into a setting where we no longer need to care about the cohesion.
These functors must satisfy some additional laws, such as $\Delta$ and
$\nabla$ being fully faithful (maps between discrete or codiscrete
cohesive spaces should be the same as maps of sets).

A variation on axiomatic cohesion called \emph{cohesive homotopy type
  theory}~\citep{schreiber13dcct,schreibershulman12cohesive,shulman15realcohesion}
is currently being explored in the setting of homotopy type theory and
univalent foundations~\citep{voevodsky06homotopy,uf13hott-book}.
Homotopy type theory uses Martin-L\"of's intensional type theory as a
logic of \emph{homotopy spaces}: the identity type provides an
$\infty$-groupoid structure on each type, and spaces such as the spheres
can be defined by their universal properties using higher inductive
types~\citep{lumsdaine+13hits,shulman11hitsblog,lumsdaine11hitsblog}.
Theorems from homotopy theory can be proved \emph{synthetically} in this
logic~\citep{ls13pi1s1,lb13pinsn,lf14emspace,lb15cubical,favonia14covering,cavallo14mayervietoris},
and these proofs can be interpreted in a variety of
models~\citep{shulman15inversediag,voevodsky+12simpluniv,coquand+13cubical}.
However, an important but subtle distinction is that there is no
\emph{topology} in synthetic homotopy theory: the ``homotopical circle''
is defined as a higher inductive type, essentially ``the free
$\infty$-groupoid on a point and a loop,'' which a priori has nothing to
do with the ``topological circle,'' $\{ (x,y) \in \mathbb{R}^2 \mid x^2
+ y^2 = 1\}$, where $\mathbb{R}^2$ has the usual topology.  This is both
a blessing and a curse: on the one hand, proofs are not encumbered by
topological details; but on the other, internally to homotopy type
theory, we cannot use synthetic theorems to prove facts about
topological spaces.  Cohesive homotopy type theory combines the
synthetic homotopy theory of homotopy type theory with the synthetic
topology of axiomatic cohesion, using an adjoint quadruple of
$(\infty,1)$-functors $\sh \la \Delta \la \Gamma \la \nabla$.  In the
$\infty$-categorical case, $\Delta$'s left adjoint $\sh A$ (pronounced
``shape of $A$'') generalizes from the connected components to the
\emph{fundamental homotopy space} functor, which makes a homotopy space
from the topological/cohesive paths, paths between paths, etc. of $A$.
This captures the process by which homotopy spaces arise from cohesive
spaces; for example, one can prove (using some additional axioms) that
the shape of the topological circle is the homotopy
circle~\citep{shulman15realcohesion}.  This allows synthetic homotopy
theory to be used in proofs about topological spaces, and opens up
possibilities for using synthetic homotopy theory as a tool in other
areas of mathematics and theoretical physics.

%% In this higher categorical generalization, $\mathcal{S}$ is an
%% $(\infty,1)$-category of homotopy spaces (e.g. $\infty$-groupoids), and
%% $\C$ is an $(\infty,1)$-category of cohesive homotopy spaces, which are
%% additionally equipped with a topological or other cohesive structure at
%% each level.  The rules of type theory are now interpreted in \C, so that
%% each type has an $\infty$-groupoid structure (given by the identity
%% type) \emph{as well as} a separate cohesive structure on its objects,
%% morphisms, morphisms between morphisms, etc.  For example, types have
%% both morphisms, given by the identity type, and topological paths, given
%% by maps that are continuous in the sense of the cohesion.  As in the
%% 1-categorical case, $\Gamma$ forgets the cohesive structure, yielding
%% the underlying homotopy space, while $\Delta$ and $\nabla$ equip a
%% homotopy space with the discrete and codiscrete cohesion.  


This paper begins an investigation into the structural proof theory of
cohesive homotopy type theory, as a special case of generalizing Reed's
adjoint logic to allow multiple adjunctions between the same categories.
As one might expect, the first step is to generalize the mode preorder
to a mode category, so that we can have multiple different morphisms
$\alpha, \beta : p\ge q$.  This allows the logic to talk about different
but unrelated adjunctions between two categories.  However, in order to
describe an adjoint triple such as $\Delta \la \Gamma \la \nabla$, we
need to know that the same functor $\Gamma$ is both a left and right
adjoint.  To describe such a situation, we generalize to a 2-category of
modes, and arrange the syntax of the logic to capture the following
semantics.  Each mode $p$ determines a category (also denoted by $p$).
Each morphism $\alpha : p \ge q$ determines adjoint functors $F_\alpha :
p \to q$ and $U_\alpha : q \to p$ where $F_\alpha \la U_\alpha$.  Each
2-cell $e : \tc \alpha \beta$ determines a morphism of adjunctions
between $F_\beta \la U_\beta$ and $F_\alpha \la U_\alpha$, which
consists of natural transformations ${F_\beta} \to {F_\alpha}$ and
${U_\alpha} \to {U_\beta}$ that are conjugate under the adjunction
structure~\citep[\S IV.7]{maclane98working}.  Thus, an adjoint
triple is specified by the mode 2-category with
\begin{itemize}
\item objects $c$ and $s$
\item 1-cells $\dsd{d} : s \ge c$ and $\dsd{n} : c \ge s$
\item 2-cells $\tc {1_c} {\compo{\dsd{n}}{\dsd{d}}}$ 
and $\tc {\compo{\dsd{d}}{\dsd{n}}} {1_s}$ satisfying 
some equations
\end{itemize}
The 1-cells generate $F_{\dsd d} \la U_{\dsd d}$ and $F_{\dsd n} \la
U_{\dsd n}$, while the 2-cells are sufficient to prove that $U_{\dsd d}$ is
naturally isomorphic to $F_{\dsd n}$, so we can define $\Delta :=
F_{\dsd n}$, $\nabla := U_{\dsd n}$, and $\Gamma := U_{\dsd d} \cong F_{\dsd n}$
and have the desired adjoint triple.  Indeed, you may recognize this
2-category as the ``walking adjunction'' with $\dsd d \la \dsd n$---that
is, we give an adjoint triple by saying that the mode morphism generating
the adjunction $\Delta\la \Gamma$ is itself left adjoint to the mode morphism generating the
adjunction $\Gamma\la\nabla$.

The main judgement of the logic is a ``mixed-category'' entailment
judgement \seq{A}{\alpha}{C} where $A$ has mode $q$ and $C$ has mode $p$
and $\alpha : q \ge p$.  Semantically, this judgement means a morphism
from $A$ to $C$ ``along'' the adjunction determined by $\alpha$---i.e. a
map $\arrow{}{\F \alpha A}{C}$ or $\arrow{}{A}{\U \alpha C}$.
% \footnote{We could instead
%   use a structure that includes a basic notion of ``morphisms along
%   $\alpha$,' such as a Grothendieck bifibration over the 2-category of
%   modes, or a pseudofunctor to the bicategory of profunctors that are
%   both representable and corepresentable; these are equivalent to the
%   structures used here.}
However, taking the mixed-mode judgement as
primitive makes for a nicer sequent calculus: $U$ and $F$ can be
specified independently from each other, by left and right rules, in
such a way that identity and cut (composition) are admissible, and the
subformula property holds.  While we do not consider
focusing~\citep{andreoli92focus}, we conjecture that the connectives can
be given the same focusing behavior as in \citep{reed09adjoint}: $F$ is
positive and $U$ is negative (which, because limits are negative and
colimits are positive, and like-polarity connectives compose together
well, matches what left and right adjoints should preserve).

The resulting logic has a good definition-to-theorem ratio: from 
simple sequent calculus rules for $F$ and $U$, we can prove a variety of
general facts that are true for any mode 2-category ($F_\alpha$ and
$U_\alpha$ are functors; $F_\alpha U_\alpha$ is a comonad and $U_\alpha
F_\alpha$ is a monad; $F_\alpha$ preserves colimits and $U_\alpha$
preserves limits), as well as facts specific to a particular theory
(e.g. for the adjoint triple above, $\Gamma$ preserves both colimits
and limits, because it can be written either has $U_\Delta$ or $F_\nabla$; and the
comonad $\flat := \Delta\Gamma$ and monad $\sharp := \nabla\Gamma$ are
themselves adjoint).  Moreover, we can use different mode 2-categories
to add additional structure; for example, moving from the walking
adjunction to the walking reflection (taking $\Delta \nabla = 1$)
additionally gives that $\Delta$ and $\nabla$ are full and faithful and
that $\flat$ and $\sharp$ are idempotent, which are some of the
additional conditions for axiomatic cohesion.

We make a few simplifying restrictions for this paper. First, we
consider only single-hypothesis, single-conclusion sequents, deferring
an investigation of products and exponentials to future work.  Second,
on the semantic side, we consider only 1-categorical semantics of the
derivations of the logic, rather than the $\infty$-groupoid semantics
that we are ultimately interested in.  More precisely, for any
2-category \M\/ of modes, we can interpret the logic using a
pseudofunctor $S : \M \to \Adj$, where $\Adj$ is the 2-category of
categories, adjunctions, and conjugate pairs of natural
transformations~\citep[\S IV.7]{maclane98working}.  We show that the
syntax forms such a pseudofunctor, and conjecture that the syntax is
initial in some category or 2-category of pseudofunctors, but have not
yet tried to make this precise.  Third, we consider only a logic of
simple-types, rather than a dependent type theory.  Because 
many of the statements we would like to make require proving some
equations between derivations (e.g. the monad laws), we we give an
equality judgement on sequent calculus derivations.  This judgement is
interpreted by actual equality of morphisms in the semantics above, but
we intend some of these rules to be propositional equalities in an
eventual adjoint type theory.

In Section~\ref{sec:rules}, we define the rules of the logic, prove
admissibility of identity and cut, and define an equational theory on
derivations.  In Section~\ref{sec:semantics}, we discuss the semantics
of the logic in pseudofunctors $\M \to \Adj$.  Finally, in
Section~\ref{sec:triple}, we examine some specific mode specifications
for adjoint triples, which are related to the rules for spatial type
theory used in \citep{shulman15realcohesion}.  All of the syntactic
metatheory of the logic and the examples have been formalized in
Agda~\citep{norell07thesis}.\footnote{See
  \url{github.com/dlicata335/hott-agda/tree/master/metatheory/adjointlogic}}
An extended version of this paper, available from the authors' web
sites, contains more discussion of the examples, definitions, and proofs.

\section{Sequent Calculus and Equational Theory}
\label{sec:rules}

\subsection{Sequent Calculus}

The logic is parametrized by a strict 2-category $\M$ of modes.  We
write $p,q$ for the 0-cells (modes), $\alpha,\beta,\gamma,\delta : p \ge
q$ for the 1-cells from $q$ to $p$, and $e : \tc \alpha \beta$ for the
2-cells.  The notation $p\ge q$ for the 1-cells follows
\citep{reed09adjoint}, but in our case $\M$ is a general category, so
there can be more than one morphism $p \ge q$.  We use the notation $p
\ge q$ for an arrow from $q$ to $p$ (an arrow points ``lesser to
greater'') to match the sequent calculus, where the $p$-mode is on the
left and the $q$-mode on the right (``validity is greater than truth'').
We write \compo{\beta}{\alpha} for 1-cell composition in function
composition order (i.e. if $\beta : r \ge q$ and $\alpha : q \ge p$ then
$\compo{\beta}{\alpha} : r \ge p$), \compv{e_1}{e_2} for vertical
composition of 2-cells in diagrammatic order, and \comph{e_1}{e_2} for
horizontal composition of 2-cells in ``congruence of \compo{}{}'' order
(if $e_1 : \tc \alpha {\alpha'}$ and $e_2 : \tc \beta \beta'$ then
$\comph{e_1}{e_2} :
\tc{\compo{\alpha}{\beta}}{\compo{\alpha'}{\beta'}}$).  The equations
for 2-cells say that \compv{}{} is associative with unit $1_\alpha$ for
any $\alpha$, that \comph{}{} is associative with unit $1_1$, and that
the interchange law $\comph{(\compv{e_1}{e_2})}{(\compv{e_3}{e_4})} =
\compv{(\comph{e_1}{e_3})}{(\comph{e_2}{e_4})}$ holds.  We think of the
mode category as being fixed at the outset, and the syntax and
judgements of the logic as being indexed by the 0/1/2-cells of this
category.
%% ; therefore,
%% equal morphisms in the mode 2-category automatically determine equal
%% propositions, judgements, and derivations.
%% An alternative would be to give a syntax and explicit equality
%% judgement for the mode category, which would be helpful if we needed
%% a mode theory where equality of morphisms or 2-morphisms were
%% undecidable.

In our pseudofunctor semantics, each object $p$ of the mode category
$\M$ will determine a category (also denoted by $p$). Syntactically, the
judgement \wftp{A}{p} will mean that $A$ determines an object of the
category $p$.  A morphism $\alpha : q \ge p$ in $\M$ determines an
adjunction $\F\alpha{} \la \U\alpha{}$, with $\F \alpha {} : q \to p$
and $\U \alpha {} : p \to q$; note that the right adjoints are covariant
and the left adjoints contravariant.  Syntactically, the action on
objects is given by $\wftp{\F \alpha A}{p}$ when $\wftp{A}{q}$ and
$\wftp{\U \alpha A}{q}$ when $\wftp{A}{p}$.  The ``pseudo'' of the
pseudofunctor means that, for example, the types \F{\beta}{(\F \alpha
  A)} and {\F {\compo{\alpha}{\beta}} A} will be isomorphic but not
definitionally equal.  Finally, a 2-cell $e:\tc\alpha\beta$ in $\M$
determines natural transformations $\U\alpha{} \to \U\beta{}$ and
$\F\beta{}\to \F\alpha{}$ which are ``conjugate''~\citep[\S
  IV.7]{maclane98working}; again, the right adjoints are covariant and
the left adjoints are contravariant.  Syntactically, these natural
transformations will be definable using the sequent calculus rules.

In addition to the connectives \F{\alpha}{A} and \U{\alpha}{A}, we allow
an arbitrary collection of atomic propositions (denoted $P$), each of
which has a designated mode; these represent arbitrary objects of the
corresponding categories.  To add additional structure to a category or
to all categories, we can add rules for additional connectives; for
example, a rule \wftp{\coprd{A}{B}}{p} if \wftp{A}{p} and \wftp{B}{p}
(parametric in $p$) says that any category $p$ has a coproduct type
constructor.

The sequent calculus judgement has the form \seq A \alpha C where
\wftp{A}{q} and \wftp{C}{p} and $\alpha : q \ge p$.  The judgement
represents a map from an object of some category $q$ to an object of
another category $p$ along some adjunction $\F \alpha {} \la \U \alpha
{}$.  Semantically, this mixed-category map can be interpreted
equivalently as an arrow \arrow{p}{\F \alpha A}{C} or \arrow{q}{A}{\U
  \alpha C}.  In the rules, we write $A_p$ to indicate an elided premise
\wftp{A}{p}.  The rules for atomic propositions and for $U$ and $F$ are
as follows:
\[
\begin{array}{c}
\infer[\irl{hyp}]
      {\seq P \alpha P}
      {\tc 1 \alpha}
\quad
\infer[\irl{FL}]
      {\seq {\F {\alpha : r \ge q} A_r} {\beta : q \ge p}{C_p}}
      {\seq {A_r} {\compo{\alpha}{\beta}} {C_p}
      }
\quad
\infer[\irl{FR}]
      {\seq {C_r} {\beta : r \ge p} {\F {\alpha : q \ge p} A_q}}
      { \gamma : r \ge q & \tc{\compo{\gamma}{\alpha}}{\beta} &
        \seq {C_r} \gamma {A_q}}
\\ \\
\infer[\irl{UL}]
      {\seq {\U {\alpha : r \ge q} A_q} {\beta : r \ge p} {C_p}}
      { \gamma : q \ge p &
        \tc{\compo{\alpha}{\gamma}} {\beta} &
        \seq{A_q}{\gamma}{C_p}}
\quad
\infer[\irl{UR}]
      {\seq {C_r} {\beta : r \ge q} {\U {\alpha : q \ge p} A_p}}
      {\seq {C_r} {\compo{\beta}{\alpha}} {A_p}}
\end{array}
\]
The rules for other types do not change $\alpha$---e.g., see the rules
for coproducts in Figure~\ref{fig:coprod}.

\begin{figure}[t]
\[
\infer[\irl{Inl}]
      {\seq {C_q} {\alpha} {\coprd{A_p}{B_p}}}
      {\seq {C_q} {\alpha} {A_p}}
\quad
\infer[\irl{Inr}]
      {\seq {C_q} {\alpha} {\coprd{A_p}{B_p}}}
      {\seq {C_q} {\alpha} {B_p}}
\quad
\infer[\irl{Case}]
      {\seq {\coprd{A_q}{B_q}} {\alpha} {C_p}}
      {\seq {A_q} {\alpha} {C_p} & 
       \seq {B_q} {\alpha} {C_p} 
      }
\]

\caption{Rules for coproducts; see the extended version for the
  definition of the admissible identity and cut rules, and for the
  equational theory extending the rules in
  Section~\ref{sec:rules:equations}}
\label{fig:coprod}
\end{figure}

These rules are guided by the usual design goals for sequent calculi:
the only rules are the left and right rules for each connective, the
rules have the subformula property (the premises only involve
subformulas of the conclusion), and the identity and cut rules are
admissible.  To achieve these goals, it is necessary to treat the
natural transformations $\F{\beta}{} \to \F{\alpha}{}$ and $\U{\alpha}{}
\to \U{\beta}{}$ induced by a mode 2-cell $\tc{\alpha}{\beta}$ as an
additional admissible structural rule: composing with such a natural
transformation transforms a derivation of \seq{A}{\alpha}{C} into a
derivation of \seq{A}{\beta}{C}.  The admissible rules are discussed
further in Section~\ref{sec:admissible} below.  

Consider the rules \irl{FL} and \irl{UR}.  When $\beta$ is 1, these
rules pass from \seq{\F {\alpha}{A}}{1}{C} and \seq{A}{1}{\U{\alpha}{C}}
to \seq{A}{\alpha}{C}, which makes sense because the judgement
\seq{A}{\alpha}{C} is intended to mean either/both of these.  When
$\beta$ is not 1, these rules compose the mode morphism in the
connective with the mode morphism in the sequent.  Semantically, this
corresponds to one direction of the composition isomorphism between
$\F{\compo{\alpha}{\beta}}{A}$ and $\F{\beta}{\F{{\alpha}}{A}}$ and
similarly for $U$; see the derivation in Example 2 in
Figure~\ref{fig:examples}.  We conjecture that these two rules are
invertible.

Next, consider \irl{FR} (\irl{UL} is dual).  The rule is a bit complex
because it involves three different aspects of the pseudofunctor
structure.  First, in the case where $\gamma$ is the identity 1-cell and
$e$ is the identity 2-cell and $\beta = \alpha$, the rule gives
functoriality of $F$ (see Example 1 in Figure~\ref{fig:examples}).  In
the case where $\gamma = \beta$ and $e$ is the identity, the rule gives
the other direction of the composition isomorphism between
$\F{\compo{\alpha}{\beta}}{A}$ and $\F{\beta}{\F{{\alpha}}{A}}$ (see
Example 2).  In the case where $\gamma$ is 1 and the rightmost premise
is the identity sequent \seq{A}{1}{A}, the rule gives a natural
transformation $\F{\beta}{} \to \F{\alpha}{}$ induced by $e :
\tc{\alpha}{\beta}$ (see Example 3).  This is necessary because
composition with such a natural transformation cannot always be pushed
inside an application of functoriality, because a morphism from
$\compo{\gamma}{\alpha}$ might not be constructed from a morphism from
$\gamma$.  In the general form of the rule, we combine these three
ingredients: given $\alpha : q \ge p$ and $\beta : r \ge p$, to prove
\F{\alpha}{A} from $C$, choose a natural transformation that splits
$\beta$ as $\compo{\gamma}{\alpha}$ for some $\gamma : r \ge q$, and
apply functoriality of $\alpha$, which leaves proving
\seq{C}{\gamma}{A}.  

\begin{figure}
Example 1: Functoriality, given $\alpha : q \ge p$ and $D : \seq{A}{1_q}{B}$:
\[
\infer[\irl{FL}]
      {\seq{\F \alpha A}{1_p}{\F \alpha B}}
      {\infer[\irl{FR}]
        {\seq{A}{\compo{\alpha} {1_p}}{\F \alpha B}}
        {\infer{1_q : q \ge q}{} & \infer{1 : \tc{\compo{1_q} \alpha}{\compo {\alpha} {1_p}}}{} & D : \seq{A}{1_q}{B}}}
\]

Example 2: $F$ on $\compo{\beta}{\alpha}$:
\[
\infer[\irl{FL}]
      {\seq{\F {\compo{\beta}{\alpha}} P}{1}{\F \alpha {(\F \beta P)}}}
      {\infer[\irl{FR}]
             {\seq{P}{\compo{(\compo{\beta}{\alpha})}{1}}{\F \alpha {(\F \beta P)}}}
             {{\beta : r \ge p} & 
              \infer{1 : \tc{\compo{(\compo{\beta}{\alpha})}{1}}{\compo \beta \alpha}}{} & 
              \infer{\seq{P}{\beta}{\F \beta P}}
                    {\infer{1 : r \ge r}{} &
                      \infer{1 : \tc{\compo{1}{\alpha}}{\alpha}}{} &
                      \infer[\irl{\hyp 1}]{\seq{P}{1}{P}}{}
                    }
             }}
\]
\[
\infer[\irl{FL}]
      {\seq{\F \alpha {(\F \beta P)}}{1}{\F {\compo{\beta}{\alpha}} P}}
      {\infer[\irl{FL}]
             {\seq{\F \beta P}{\compo{\alpha}{1}}{\F {\compo{\beta}{\alpha}} P}}
             {\infer[\irl{FR}]
               {\seq{P}{\compo{\beta}{(\compo{\alpha}{1})}}{\F {\compo{\beta}{\alpha}} P}}
               {\infer{1 : r \ge r}{} & 
                 \infer{1 : \tc {\compo{1}{(\compo{\beta}{\alpha})}} {\compo{\beta}{(\compo{\alpha}{1})}}}{} &
                 \infer[\irl{\hyp 1}]{\seq{P}{1}{P}}{}
               }}}
\]

Example 3: $F/U$ on 2-cells:
\[
\infer[\irl{FL}]
      {\seq{\F \beta P}{1}{\F \alpha P}}
      {\infer[\irl{FR}]{\seq{P}{\beta}{\F \alpha P}}
                       {\infer{1 : q \ge q}{} & {e : \tc{\compo 1 \alpha}{\beta}} & \infer[\hyp{1}]{\seq{P}{1}{P}}{} }{}}
\qquad
\infer[\irl{UR}]
      {\seq{\U \alpha P}{1}{\U \beta P}}
      {\infer[\irl{UL}]
             {\seq{\U \alpha P}{\beta}{P}}
             { \infer{1 : p \ge p}{} & e : \tc{\compo{\alpha}{1}}{\beta} & \infer[\hyp 1]{\seq{P}{1}{P}}{}}}
\]

Example 4: Comonad comultiplication:
\[
\infer[\irl{FL}]{\seq{\Bx{\alpha}{P}}{1}{\Bx{\alpha}{\Bx{\alpha}{P}}}}
      {\infer[\irl{FR}]{\seq{\U{\alpha}{P}}{\alpha}{\Bx{\alpha}{\Bx{\alpha}{P}}}}
        {\infer{1 : q \ge q}{} & 
          \infer{1 : \tc {\alpha} {\alpha}}{} & 
          \infer[\irl{UR}]
                {\seq{\U{\alpha}{P}}{1}{\U {\alpha} {\Bx \alpha P}}}
                {\infer[\irl{FR}]{\seq{\U{\alpha}{P}}{\alpha}{\Bx \alpha P}}
                  {\infer{1 : q \ge q}{} &
                   \infer{1 : \tc \alpha \alpha}{} &
                   \infer[\irl{UR}]{\seq{\U{\alpha}{P}}{1}{\U \alpha P}}
                         {\infer[\irl{UL}]{\seq{\U \alpha P}{\alpha}{P}}
                           {\infer{1 : p \ge p}{} & \infer{1 : \tc {\alpha} {\alpha}}{} &
                             \infer[\irl{hyp}]{\seq{P}{1}{P}}{\infer{\tc{1}{1}}{}}
                         }}}}}}
\]

Example 5: $F$ preserves coproducts (one half of a natural isomorphism):
\[
\infer[\irl{FL}]{\seq{\F \alpha {(\coprd{P}{Q})}}{1}{\coprd{\F \alpha P}{\F \alpha Q}}}
      {\infer[\irl{Case}]
        {\seq{\coprd{P}{Q}}{\alpha}{\coprd{\F \alpha P}{\F \alpha Q}}}
        {\infer[\irl{Inl}]
          {\seq{P}{\alpha}{\coprd{\F \alpha P}{\F \alpha Q}}}
          {\infer[\irl{FR}]
                 {\seq{P}{\alpha}{\F \alpha P}}
                 {\infer{1 : q \ge q}{} & \infer{1 : \tc{\alpha}{\alpha}}{} & \infer[\irl{\hyp 1}]{\seq{P}{1}{P}}{}}}
          &
         \infer[\irl{Inr}]
          {\seq{Q}{\alpha}{\coprd{\F \alpha P}{\F \alpha Q}}}
          {\infer[\irl{FR}]
                 {\seq{Q}{\alpha}{\F \alpha Q}}
                 {\infer{1 : q \ge q}{} & \infer{1 : \tc{\alpha}{\alpha}}{} & \infer[\irl{\hyp 1}]{\seq{Q}{1}{Q}}{}}}
         }}
\]
\caption{Some examples}
\label{fig:examples}
\end{figure}

We give some additional examples in Figure~\ref{fig:examples}; these
examples and many more like them are in the companion Agda code.  The
composites $FU$ and $UF$ should be a comonad and a monad respectively;
define $\Bx \alpha A := \F \alpha (\U \alpha A)$ and $\Crc{\alpha}A :=
\U{\alpha}{(\F{\alpha}{A})}$ for any $\alpha : q \ge p$.  As an example
of the (co)monad structure, the comonad comultiplication is defined in
the figure.
An advantage of using a cut-free sequent calculus is that
we can observe some non-provabilities.  For example, there is not in
general a map \seq{P}{1_p}{\Bx{\alpha}{P}} (unit for the comonad): by
inversion, a derivation must begin with \irl{FR}, but to apply this
rule, we need a $\gamma : p \ge q$ and a 2-cell
$\tc{\compo{\gamma}{\alpha}}{1}$, which may not exist.  
Next, we give
one half of the isomorphism showing that $F$ preserves coproducts;
this is a consequence of the left rule for $\coprd{P}{Q}$ allowing
an arbitrary $\alpha$.
%%   The key idea is that we can apply the left rule for $F$ first, and
%% then apply the left rule (which allows an arbitrary $\alpha$), before
%% choosing between \irl{Inl} and \irl{Inr} on the right; this direction
%% of map doesn't exist for \U{\alpha}{(\coprd{P}{Q})} because the left
%% rule for $U$ cannot be applied until after applying \irl{UR}.

Because we are interested not only in provability, but also in the
equational theory of proofs in this logic, one might think the next step
would be to annotate the sequent judgement with a proof term, writing
e.g. $x : A [ \alpha ] \vdash M : B$.  However, the proof terms $M$
would have exactly the same structure as the derivations of this typing
judgement, so we instead use the derivations themselves as the proof
terms.  We sometimes write $D : \seq{A}{\alpha}{B}$ to indicate
``typing'' in the metalanguage; i.e. this should be read ``$D$ is a
derivation tree of the judgement \seq{A}{\alpha}{B}.''

\subsection{Admissible Rules}
\label{sec:admissible}

\paragraph{Adjunction morphisms}

As discussed above, composition with the natural transformations
$\F{\beta}{} \to \F{\alpha}{}$ and $\U{\alpha}{} \to \U{\beta}{}$
induced by a 2-cell $e : \tc \alpha \beta$ is an admissible rule, which
we write as $\tr{e}{D} : \seq{A}{\beta}{B}$:
\[
\infer[\irl{\tr{-}{-}}]
      {\seq A {\beta} C}
      {\tc \alpha \beta &
       \seq A {\alpha} {C}}
\]
The definition of this operation pushes the natural transformation into
the premises of a derivation until it reaches a rule that builds in a
transformation (\irl{FR},\irl{UL},\irl{hyp}):
\[
\begin{array}{rcl}
  \tr {e}{\hyp e'} & := & \hyp {(\compv{e'}{e})}\\
  \tr {e}{\FR \gamma {e'} D} & := & \FR \gamma {\compv{e'}{e}} D \\
  \tr {e}{\FL D} & := &\FL {\tr{(\comph{1}{e})} D}\\
  \tr {e}{\UL \gamma {e'} D} & := & \UL \gamma {\compv{e'}{e}} D\\
  \tr {e}{\UR D} & := & \UR {\tr {(\comph{e}{1})} D} \\
\end{array}
\]

\paragraph{Identity}

The identity rule is admissible:
\[
\infer[\irl{ident}]
      {\seq {A_p} {1} {A_p}}
      {}
\]
As a function from types to derivations, we have
\[
\begin{array}{rcl}
  \ident{P} & := & \hyp 1\\
  \ident{\U \alpha A} & := & \UR {\UL 1 1 {\ident A}}\\
  \ident{\F \alpha A} & := & \FL {\FR 1 1 {\ident A}}\\
\end{array}
\]

\paragraph{Cut}

The following cut rule is admissible:
\[
\infer[\irl{cut}]
      {\seq {A_r} {\compo{\beta}{\alpha}} {C_p}}
      {\seq {A_r} {\beta} {B_q} &
       \seq {B_q} {\alpha} {C_p}}
\]
For example, consider the principal cut for $F$:
\[
\infer[\irl{cut}]
      {\seq {A} {\compo{\beta}{\alpha}} {C}}
      {\infer[\irl{FR}]
             {\seq {A} {\beta} {\F {\alpha_1} B}}
             {e : \tc{\compo{\gamma}{\alpha_1}}{\beta} & 
              D : \seq {A} {\gamma} {B}} &
       \infer[\irl{FL}]
             {\seq {\F {\alpha_1} B} {\alpha} {C}}
             {E : {\seq{B}{\compo{\alpha_1}{\alpha}}{C}}}}
\]
In this case the cut reduces to
\[
\infer[\irl{\tr{-}{-}}]
      {\seq{A}{\compo{\beta}{\alpha}}{C}}
      {\comph{e}{1} : \tc {\compo{(\compo{\gamma}{\alpha_1})}{\alpha}} {\compo{\beta}{\alpha}} &
        \infer[\irl{cut}]
              {\seq{A}{\compo{\compo{\gamma}{\alpha_1}}{\alpha}}{C}}
              {D : \seq{A}{\gamma}{B} &
                E : \seq{B}{\compo{\alpha_1}{\alpha}}{C}}}
\]

As a transformation on derivations, we have
\[
\begin{array}{rcll}
  \cut {(\hyp e)} {(\hyp {e'})} & := & \hyp {(\comph{e}{e'})}\\
  \cut {(\FR \gamma e D)} {(\FL E)} & := & \tr {(\comph{e}{1})} {\cut D E}\\
  \cut {(\UR D)} {(\UL \gamma e E)} & := & \tr {(\comph{1}{e})} {\cut D E}\\
  \cut D {(\FR \gamma e E)} & := & \FR {\compo{\beta}{\gamma}} {\comph{1}{e}} {\cut D E}\\
  \cut D {(\UR E)} & := & \UR {\cut D E} \\
  \cut {(\FL D)} E & := & \FL {\cut D E} & \text{if $E$ is not a right rule} \\
  \cut {(\UL \gamma e D)} E & := & \UL {\compo{\gamma}{\alpha}} {\comph{e}{1}} {\cut D E} & \text{if $E$ is not a right rule}
\end{array}
\]
The first case is for atomic propositions.  The next two cases are the
principal cuts, when a right rule meets a left rule; these correspond to
$\beta$-reduction in natural deduction.  The next two cases are
right-commutative cuts, which push any $D$ inside a right rule for $E$.
The final two cases are left-commutative cuts, which push any $E$ inside
a left rule for $D$.  The left-commutative and right-commutative cuts
overlap when $D$ is a left rule and $E$ is a right rule; we give
precedence to right-commutative cuts definitionally, but using the
equational theory below, we will be able to prove the general
left-commutative rules.

As an example using identity and cut, we give one of the maps from the
bijection-on-hom-sets adjunction for $F$ and $U$: given $\alpha : q \ge
p$ we can transform $D : \seq { \F \alpha A}{1}{B}$ into {\seq{A}{1}{\U
    \alpha B}}:
\[
\infer[\irl{UR}]{\seq{A}{1}{\U \alpha B}}
      {\infer[\irl{cut}]
             {\seq{A}{\alpha}{B}}
             {\infer[\irl{FR}]
                    {\seq{A}{\alpha}{\F \alpha A}}
                    {\infer{1 : q \ge q}{} & \infer{1 : \tc{\alpha}{\alpha}}{} & \infer[\irl{ident}]{\seq{A}{1}{A}}{} } & 
               D : \seq { \F \alpha A}{1}{B} }}
\]


\subsection{Equations}
\label{sec:rules:equations}

When we construct proofs using the admissible rules \tr{e}{D} and
\ident{A} and \cut{D}{E}, there is a natural notion of definitional
equality induced by the above definitions of these operations---the cut-
and identity-free proofs are normal forms, and a proof using cut or
identity is equal to its normal form.  However, to prove the desired
equations in the examples below, we will need some additional
``propositional'' equations, which, because we are using derivations as
proof terms, we represent by a judgement \ap{D}{D'} on two derivations
$D,D' : \seq{A}{\alpha}{C}$.  This judgement is the least congruence
closed under the following rules.  First, we have uniqueness/$\eta$
rules.  The rule for $F$ says that any map from \F{\alpha}{A} is equal
to a derivation that begins with an application of the left rule and
then cuts the original derivation with the right rule; the rule for $U$
is dual.

\[
\begin{array}{l}
\infer[\irl{F\eta}]
      {\ap{D}{\FL {\cut{(\FR 1 1 {\ident{A}})}{D}} }}
      {D : \seq{\F \alpha A}{\beta}{C}}
\quad
\infer[\irl{U\eta}]
      {\ap{D}{\UR {\cut{D}{(\UL 1 1 {\ident{A}})}}}}
      {D : \seq{C}{\beta}{\U \alpha A}}
\end{array}
\]

Second, we have rules arising from the 2-cell structure.  For example,
suppose we construct a derivation by $\FR{\gamma}{e}{D}$ for some
$\gamma : r \ge q$ and $e : \tc {\compo{\gamma}{\alpha}}{\beta}$, but
there is another morphism $\gamma' : r \ge q$ such that there is a
2-cell between $\gamma$ and $\gamma'$.  The following says that we can
equally well pick $\gamma'$ and suitably transformed $e$ and $D$, 
using composition and \tr{e_2}{-} to make the types match up.  
\[
\infer{\ap{\FR{\gamma}{e}{\tr{e_2}{D'}}}{\FR{\gamma'}{(\compv{(\comph{e_2}{1})}{e})}{D'}}}
      {e : \tc{\compo{\gamma}{\alpha}}{\beta} & 
       D : \seq{C}{\gamma'}{A} &
       e_2 : \tc{\gamma'}{\gamma} & }
\quad
\infer{\ap{\UL{\gamma}{e}{\tr{e_2}{D'}}}{\UL{\gamma'}{(\compv{(\comph{1}{e_2})}{e})}{D'}}}
      {e : \tc{\compo{\gamma}{\alpha}}{\beta} & 
       D : \seq{C}{\gamma'}{A} &
       e_2 : \tc{\gamma'}{\gamma} & }
\]
Semantically, these rules will be justified by some of the pseudofunctor
laws.

The final rules say that left rules of negatives and right rules of
positives commute. These are needed to prove the left-commutative cut
equations in the case where $E$ is a right rule, which seem necessary
for showing that cut is unital and associative.  For $U$ and $F$, we
have
\[
\infer{\ap{\UL {}{e_2} {\FR {} {e_1} {D}}}{\FR {} {e_4} {\UL {} {e_3} {D}}}}
      {\compv{(\comph{1}{e_1})}{e_2} = {\compv{(\comph{e_3}{1})}{e_4}}}
\]

The following additional equality rules are admissible for logic
containing the $U/F$ rules described above and the coproduct rules in
Figure~\ref{fig:coprod}.  The rules in each line (except the first) are
proved by mutual induction, and use the preceding lines:

\[
\begin{array}{c}
\infer{\tr{1}{D} = D}{}
\qquad
\infer{\tr{(\compv{e_1}{e_2})}{D} = \tr{e_2}{\tr{e_1}{D}}}
      {}
\\ \\
\infer{\ap{\tr{e}{D}}{\tr{e}{D'}}}
      {\ap{D}{D'}}
\qquad
\infer{\ap{\tr{(\comph{e}{e'})}{\cut{D}{D'}}}{\cut{(\tr{e}{D})}{(\tr{e'}{D'})}}}
      {e : \tc{\alpha}{\alpha'} &
       e' : \tc{\beta}{\beta'} &
       D : \seq{A}{\alpha}{B} &
       D' : \seq{B}{\beta}{C}}
\\ \\
\infer{\ap{\cut{D_1}{(\cut{D_2}{D_3})}}{\cut{(\cut{D_1}{D_2})}{D_3}}}
      {}
\\ \\
\infer{\ap{\cut{D}{\ident{}}}{D}}
      {}
\quad
\infer{\ap{\cut{\ident{}}{D}}{D}}
      {}
\quad
\infer{\ap{\cut{D}{E}}{\cut{D'}{E}}}
      {\ap{D}{D'}}
\quad
\infer{\ap{\cut{D}{E}}{\cut{D}{E'}}}
      {\ap{E}{E'}}
\\ \\
\infer{\ap{\cut {(\FL D)} E} {\FL {\cut D E}}}{}
\quad 
\infer{\ap{\cut {(\UL \gamma e D)} E} {\UL {\compo{\gamma}{\alpha}} {\comph{e}{1}} {\cut D E}}}{}
\end{array}
\]

\section{Semantics}
\label{sec:semantics}

In the extended version of this paper, we give a detailed account of
soundness and completeness results.  Let $\Adj$ be the 2-category whose
objects are categories, whose morphisms $\C\to\D$ are adjunctions $L \la
R$ with $L:\D\to \C$ and $R:\C\to\D$, and whose 2-cells $(L^1 \la
R^1)\to (L^2 \la R^2)$ are conjugate pairs of transformations $t^L : L^2
\to L^1$ and $t^R : R^1 \to R^2$.  A pseudofunctor is a map between
2-categories that preserves identity and composition of 1-cells up to
coherent isomorphism, rather than on the nose.

\begin{theorem}[Soundness]
For any mode theory \M, the rules of adjoint logic can be interpreted in
any pseudofunctor $\M \to \Adj$.
\end{theorem}

In this case, the rules describe a pseudofunctor because $\F 1 A \iso A
\iso \U 1 A$ and $\F{\compo{\beta}{\alpha}}{A} \iso
\F{\alpha}{\F{\beta}{A}}$ and $\U{\compo{\beta}{\alpha}}{A} \iso
\U{\beta}{\U{\alpha}{A}}$, but these are not equalities of types.  

\begin{theorem}[Completeness] \label{thm:syntacticpseudofunctor}
The syntax of adjoint logic determines a pseudofunctor $\M \to \Adj$:
\begin{enumerate}
\item An object $p$ of \M is sent to the category whose objects are
  \wftp{A}{p} and morphisms are derivations of
  \seq{A}{1_p}{B} quotiented by $\ap{}{}$, with identities given by
  \ident{} and composition given by \cutsym.

\item For each $q,p$, there is a functor from the category of morphisms
  $q \ge p$ to the category of adjoint functors between $q$ and $p$.
  \begin{itemize}
  \item 
  Each $\alpha : q \ge p$ is sent to $F_\alpha \la U_\alpha$ in
  \Adj---$F_\alpha$ and $U_\alpha$ are functors and they are adjoint.

  \item Each 2-cell $e : \tc{\alpha}{\beta}$ is sent to a conjugate pair of transformations
     $(F(e),U(e)) : (F_\alpha \la U_\alpha) \to (F_\beta \la
    U_\beta)$, and this preserves $1$ and $\compv{e_1}{e_2}$.
  \end{itemize}

\item $\F 1 A \iso A$ and $\U 1 A \iso A$ naturally in $A$, and these
  are conjugate, so there is an adjunction isomorphism $P^1$ between $\F 1 {}
  \la \U 1 {}$ and the identity adjunction.

\item $\F {\compo{\beta}{\alpha}} A \iso \F \alpha {(\F \beta A)}$ and
  $\U {\compo{\beta}{\alpha}} A \iso \U \beta {(\U \alpha A)}$ naturally
  in $A$, and these are conjugate, so there is an adjunction isomorphism
  $P^{\circ}(\alpha,\beta)$ between $\F {\compo{\beta}{\alpha}} \la \U
  {\compo{\beta}{\alpha}}$ and the composition of the adjunctions $\F
  {\alpha} \la \U {\alpha}$ and $\F {\beta} \la \U {\beta}$.  Moreover,
  this family of adjunction isomorphisms is natural in $\alpha$ and
  $\beta$.

\item Three coherence conditions between these identity and composition
  isomorphisms are satisfied.
\end{enumerate}
\end{theorem}

\begin{proof}
We have given a flavor for some of the maps in the examples above; the
complete construction is about 500 lines of Agda.  There are many
equations to verify---inverses, naturality, conjugation, and
coherence---but they are all true for \ap{}{}.
\end{proof}

Next, we summarize some constructions on $F_\alpha \la U_\alpha$ that
can be made in the logic. We write $D \cuti E$ as an infix notation for
\cut{D}{E} (composition in diagrammatic order).

\begin{lemma}[Some constructions on adjunctions] \label{lem:constructionsonadjunctions}
Let $\alpha : q \ge p$.  Then:
\begin{enumerate}
\item The composite functor $\Bx{\alpha}{A} := \F{\alpha}{\U{\alpha}{A}}$ is a comonad:
\begin{itemize}
\item[] $\dsd{counit} : \seq{\Bx \alpha A}{1}{A}$ naturally in $A$
\item[] $\dsd{comult} : \seq{\Bx \alpha A}{1}{\Bx \alpha {\Bx \alpha A}}$
  naturally in $A$
\item[] 
 \ap{\dsd{comult} \cuti (\Bx{}{\dsd{comult}})}{\dsd{comult} \cuti
   \dsd{comult}}
and \ap{\dsd{comult} \cuti \dsd{counit}}{\ident{}} \\
and \ap{\dsd{comult} \cuti (\Bx{}{\dsd{counit}})}{\ident{}}.  
\end{itemize}

\item The composite functor $\Crc{\alpha}{A} := \U{\alpha}{\F{\alpha}{A}}$ is a monad:
\begin{itemize}
\item[] $\dsd{unit} : \seq{A}{1}{\Crc \alpha A}$ naturally in $A$
\item[] $\dsd{mult} : \seq{\Crc \alpha {\Crc \alpha A}}{1}{\Crc \alpha A}$
  naturally in $A$
\item[] 
 \ap{(\Crc{}{\dsd{mult}}) \cuti \dsd{mult} }{\dsd{mult} \cuti
   \dsd{mult}}
and \ap{\dsd{unit} \cuti \dsd{mult}}{\ident{}} \\
and \ap{(\Crc{}{\dsd{unit}}) \cuti \dsd{mult}}{\ident{}}.  
\end{itemize}

\item $F$ preserves coproducts: $\F \alpha (\coprd A B) \iso \coprd {\F
  \alpha A} {\F \alpha B}$ naturally in $A$ and $B$.
\end{enumerate}
\end{lemma}

\begin{proof}
We showed some of the maps above; the (co)monad laws, naturality
conditions, and inverse laws are all true for \ap{}{}; the construction
is about 150 lines of Agda.
\end{proof}

\section{Example Mode Theories}
\label{sec:triple}

\subsection{Adjoint Triple}

Consider the walking adjunction $\dsd d \la \dsd n$, which has

\begin{itemize}
\item objects $\dsd{c}$ and $\dsd s$
\item 1-cells $\dsd{d} : \dsd s \ge \dsd c$ and $\dsd{n} : \dsd c \ge
  \dsd s$
\item 2-cells $\dsd{unit} : \tc {1_{\dsd c}} {\compo{\dsd{n}} {\dsd{d}}}$ 
and $\dsd{counit} : \tc {\compo{\dsd{d}} {\dsd{n}}} {1_{\dsd s}}$ satisfying \\
$\compv{(\comph{1_{\dsd{d}}}{\dsd{unit}})}{(\comph{\dsd{counit}}{1_{\dsd d}})} = 1$
and 
$\compv{(\comph{\dsd{unit}}{1_{\dsd{n}}})}{(\comph{1_{\dsd n}}{\dsd{counit}})} = 1$.
\end{itemize}
\noindent
The 1-cells specify two adjunctions $\F{\dsd d}{} \la \U{\dsd d}{}$ and
$\F{\dsd n}{} \la \U{\dsd n}{}$.  However, the natural transformations
specified by the 2-cells also give adjunctions $\F{\dsd d}{} \la \F{\dsd
  n}{}$ and $\U{\dsd d}{} \la \U{\dsd n}{}$ (using the unit/counit
definition of adjunction).  Since a right or left adjoint of a given
functor is unique up to isomorphism, it follows that the two functors
$\U{\dsd d}{},\F{\dsd n}{} : \dsd c \to \dsd s$ are isomorphic,
resulting in an adjoint triple $\F{\dsd d}{} \la (\U{\dsd d}{} \iso
\F{\dsd{n}}{}) \la \U{\dsd{n}}{}$.  However, rather than proving
$\F{\dsd d}{} \la \F{\dsd n}{}$ or $\U{\dsd d}{} \la \U{\dsd n}{}$ and
then concluding $\U{\dsd d}{} \iso \F{\dsd n}{}$ from uniqueness of
adjoints, we can construct the isomorphism directly:

\begin{lemma} \label{lem:mergeFU}
$\U{\dsd d}{A} \iso \F{\dsd n}{A}$ naturally in $A$.
\end{lemma}

\begin{proof}
%% One way to define the maps is to use the constructions of
%% Theorem~\ref{thm:syntacticpseudofunctor} and
%% Lemma~\ref{lem:constructionsonadjunctions} (the adjunction, the isomorphisms for $F/U$
%% on $1$ and $\compo{}{}$, and the action of $F/U$ on 2-cells, the comonad
%% structure):
%% \begin{diagram}
%% \U{\dsd d}{A} & \rTo & \F{1}{\U{\dsd d}{A}} & \rTo^{\F{\dsd{counit}}{}} & \F{\compo{\dsd d}{\dsd n}}{\U{\dsd d} A} & \rTo & \F{\dsd n}{(\F{\dsd d}{\U{\dsd d}{A}})} & \rTo & \F{\dsd n}{(A)}\\
%% \end{diagram}
%% \begin{diagram}
%% \text{For $\F{\dsd n}{A} \to \U{\dsd d}{A}$, transpose } &
%% A & \rTo & \U{1}{A} & \rTo^{\U{\dsd{unit}}{}} & \U{\compo{\dsd n}{\dsd d}}{A} & \rTo & \U{\dsd n}{\U{\dsd d}{A}}
%% \end{diagram}
We can write the maps as follows:
\[
\begin{array}{c}
\infer[\dsd{FR}]
      {\seq{\U{\dsd d}{A}}{1}{\F{\dsd n}{A}}}
      {\dsd{d} : \dsd s \ge \dsd c &
            \dsd{counit} : \tc{\compo{\dsd{d}}{\dsd{n}}}{1} &
            \infer[\irl{UL}]
                  {\seq{\U{\dsd d}{A}}{\dsd d}{A}}
                  {1 : \dsd c \ge \dsd c &
                   1 : \tc{\dsd{d}}{\dsd d} &
                   \infer[\dsd{ident}]
                         {\seq{A}{1}{A}}
                         {}
                  }
      }
\\ \\
\infer[\dsd{FL}]
      {\seq{\F{\dsd n}{A}}{1}{\U{\dsd d}{A}}}
      {\infer[\dsd{UR}]
        {\seq{A}{\dsd n}{\U{\dsd d}{A}}}
        {\infer[\tr{-}{-}]{\seq{A}{\compo{\dsd n}{\dsd d}}{A}}
               {
                 \dsd{unit} : \tc 1 {\compo{\dsd{n}}{\dsd{d}}} &
                 \infer[\dsd{ident}]
                       {\seq{A}{1}{A}}{}}}}
\end{array}
\]
In the Agda code, we verify that these are inverse and natural.  
\end{proof}

We can develop some of the expected properties of an adjoint triple $L
\la M \la R$, such as the fact that the ``left'' comonad $LM$ is itself
left adjoint to the ``right'' monad $RM$, and consequently, $LM$
preserves colimits.  In this case, we have $L = \F{\dsd{d}}{}$, $M =
\U{\dsd{d}}{} \cong \F{\dsd{n}}{}$, and $R = \U{\dsd{n}}{}$, and we write
$\Bx{\dsd{d}}{A} := \F{\dsd{d}}{\U{\dsd{d}}{A}}$
and 
$\Crc{\dsd{n}}{A} := \U{\dsd{n}}{\F{\dsd{n}}{A}}$.  


\begin{theorem}[Properties of an adjoint triple] \label{thm:adjointtriple}
\begin{enumerate}
\item $\Bx{\dsd{d}}{} \la \Crc{\dsd{n}}{}$ 
\item $\Bx{\dsd{d}}{(\coprd A B)} \iso \coprd{\Bx{\dsd{d}}{A}}{\Bx{\dsd{d}}{A}}$
\end{enumerate}
\end{theorem}

\begin{proof}
%% Using the fact that functors preserve natural isomorphisms,
%% Lemma~\ref{lem:mergeFU}, and properties of $U$ and $F$ from
%% Theorem~\ref{thm:syntacticpseudofunctor}
We can prove that \Bx{\dsd d}{A} and \Crc{\dsd n}{A} are isomorphic to a
single $F$ and $U$, respectively:
\[
\begin{array}{l}
\Bx{\dsd d}{A} = \F{\dsd{d}}{\U{\dsd d}{A}} \cong \F{\dsd d}{\F{\dsd n}{A}} \cong \F{\compo{\dsd{n}}{\dsd{d}}}{A}\\
\Crc{\dsd{n}}{A} = \U{\dsd{n}}{\F{\dsd n}{A}} \cong \U{\dsd n}{\U{\dsd d}{A}} \cong \U{\compo{\dsd{n}}{\dsd d}}{A}
\end{array}
\]
This implies the above properties because
$\F{\compo{\dsd{n}}{\dsd{d}}}{} \la \U{\compo{\dsd{n}}{\dsd d}}{}$ and
$\F{\compo{\dsd{n}}{\dsd{d}}}$ preserves coproducts and these facts
respect natural isomorphism.
\end{proof}

From a polarity point of view, it is unusual for a comonad
$\F{}{\U{}{A}}$ to preserve positives, because the negative connective
$\U{}{}$ interrupts focus/inversion phases.  Here, this behavior is
explained by the fact that $\F{\dsd{d}}{\U{\dsd{d}}{A}}$ is isomorphic
to a single positive connective $\F{\compo{\dsd n}{\dsd d}}{A}$.  The
ambipolar middle connective in an adjoint triple thus emerges
from the presence of two isomorphic connectives, one positive and one
negative.

\subsection{Reflection}

In our motivating example of axiomatic cohesion, the adjoint triple
$\Delta \la \Gamma \la \nabla$ has some additional properties.  We now
write $\Flat{}$ for the comonad $\Delta\Gamma$ and $\Sharp{}$ for the
monad $\nabla\Gamma$. $\Flat{}$ takes a cohesive space and
``retopologizes'' it with the discrete cohesion, while $\Sharp{}$ takes
a cohesive space and retopoligizes it with the codiscrete cohesion.
Intuitively, retopologizing twice should be the same as retopologizing
once, because each retopologization forgets the existing cohesive
structure; that is, we want $\Flat{\Flat{A}} \iso \Flat A$ and
$\Sharp{\Sharp{A}} \iso \Sharp A$ and $\Flat{\Sharp{A}} \iso \Flat A$ and
$\Sharp{\Flat{A}} \iso \Sharp A$.  Moreover, $\Delta$ and $\nabla$ should
be full and faithful, because a map between discrete or codiscrete
spaces is exactly a map of sets.

Recalling that a right (resp.\ left) adjoint is full and faithful
exactly when the counit (resp.\ unit) of the adjunction is an isomorphism,
we can capture these properties by considering a different mode
2-category, the ``walking reflection''. This has the same objects and
morphisms as above, but we now take $\compo{\dsd d}{\dsd n} = 1$, with
the counit being just the identity 2-cell, and the equations simplify to
$\comph{\dsd{unit}}{1_{\dsd n}} = 1$ and $\comph{1_{\dsd d}}{\dsd{unit}}
= 1$.  Note that the only non-identity morphisms of this mode category
are \dsd{d}, \dsd{n}, and \compo{\dsd{n}}{\dsd{d}}.  

We write $\Delta := \F{\dsd{d}}{}$, $\Gamma := (\U{\dsd d}{} \iso
\F{\dsd n}{})$, and $\nabla := \U{\dsd{n}}{}$, so $\Flat{} =
\Bx{\dsd{d}}{}$ and $\Sharp{} = \Crc{\dsd{n}}{}$.  Since in particular
we still have an adjunction, this mode theory inherits all the theorems
from the previous section; it also has the following additional
properties:

\begin{theorem}[Properties of the walking reflection]
\begin{enumerate}
\item $\Flat{\Flat A} \iso \Flat A$ and $\Sharp{\Sharp A} \iso \Sharp A$
  naturally in $A$.
\item $\Sharp{\Flat A} \iso \Sharp{A}$ 
and $\Flat{\Sharp A} \iso \Flat{A}$ naturally in $A$.
\item \F{\dsd{d}}{} and \U{\dsd{n}}{} are full and faithful.
\end{enumerate}
\end{theorem}

\begin{proof}

We discuss the first two parts. Using
Theorem~\ref{thm:syntacticpseudofunctor}, the equality of morphisms
$\compo{\dsd d}{\dsd n} = 1$ implies that
\[
\begin{array}{l}
\F{\dsd{n}}{\F{\dsd{d}}{A}} \iso \F{\compo{\dsd d}{\dsd n}}{A} = \F{1}{A} \iso A\\
\U{\dsd{d}}{\U{\dsd{n}}{A}} \iso \U{\compo{\dsd d}{\dsd n}}{A} = \U{1}{A} \iso A\\
\end{array}
\]
Consequently, by Lemma~\ref{lem:mergeFU},
the other (co)monads besides $\flat$ and $\sharp$ are
trivial: 
\[
\begin{array}{l}
\Crc{\dsd{d}}{A} = \U{\dsd{d}}{\F{\dsd d}{A}} \iso \F{\dsd n}{\F{\dsd d}{A}} \iso A\\
\Bx{\dsd{n}}{A} = \F{\dsd{n}}{\U{\dsd n}{A}} \iso \U{\dsd d}{\U{\dsd n}{A}} \iso A
\end{array}
\]

This gives idempotence and absorption:
\[
\begin{array}{l}
\Flat{\Flat A} = \F{\dsd d}{(\U {\dsd d} {\F{\dsd d}{(\U {\dsd d} A)}})} \cong \F{\dsd d}{\U {\dsd d} A} = \Flat A\\
\Sharp{\Sharp A} = \U{\dsd n}{(\F {\dsd n} {\U{\dsd n}{(\F {\dsd n} A)}})} \cong \U{\dsd n}{\F {\dsd n} A} = \Sharp A\\
\Flat{\Sharp A} = \F{\dsd d}{(\U{\dsd d}{\U{\dsd n}{(\F{\dsd n}{A})}})} 
\cong \F{\dsd d}{\F{\dsd n}{A}}
\cong \F{\compo{\dsd n}{\dsd d}}{A} \cong \Flat A \\

\Sharp{\Flat A} = \U{\dsd n}{(\F{\dsd n}{\F{\dsd d}{(\U{\dsd d}{A})}})} 
\cong \U{\dsd n}{\U{\dsd d}{A}}
\cong \U{\compo{\dsd n}{\dsd d}}{A} \cong \Sharp A \\
\end{array}
\]

%% Finally, we check that \F{\dsd d}{} and \U{\dsd n}{} are full and
%% faithful.  This follows by general category-theoretic arguments from
%% the triviality of $\Crc{\dsd d}{}$ and $\Bx{\dsd n}{}$ (see~\cite[\S
%% IV.3]{maclane98working}), but to avoid needing to prove the Yoneda
%% lemma in our formalization, we give an explicit argument instead.
%% Consider \F{\dsd d}{}; an analogous argument works for \U{\dsd
%%   n}{}.  We want to show that the functoriality on derivations $\F{\dsd
%%   d}{(D : \seq{A}{1}{B})} : \seq{\F{\dsd d}{A}}{1}{\F{\dsd d}{A}}$ is a
%% bijection.  Above, we showed that \F{\dsd{n}}{} is post-inverse to
%% \F{\dsd d}{}---we have a natural isomorphism $i : \F{\dsd n}{\F{\dsd d}
%%   A} \iso A$.  Therefore we can map a derivation $D : \seq{\F{\dsd
%%     d}{A}}{1}{\F{\dsd d}{B}}$ to a derivation of \seq{A}{1}{B} by
%% \begin{diagram}
%% A & \rTo^{{\inv i}} & \F{\dsd n}{\F{\dsd d} A} & \rTo^{\F{\dsd n}{D}} & \F{\dsd n}{\F{\dsd d} B} & \rTo^{i} B
%% \end{diagram}
%% By naturality of $i$, this function is post-inverse to \F{\dsd d}{}
%% (i.e. $\ap{(\inv{i} \cuti (\F{\dsd n}{\F{\dsd d} D}) \cuti i)}{D}$),
%% which shows that \F{\dsd d}{} is faithful.  To show that it is full, we
%% need to check the other composite, which simplifies to checking that 
%% for $D' : \seq{\F{\dsd d}A}{1}{\F{\dsd d}B}$,
%% \[
%% \ap {(\F{\dsd d}{\F{\dsd n} D'}) \cuti \F{\dsd d}{i}} { \F{\dsd d}{i} \cuti D'}
%% \]
%% (i.e. that $\F{\dsd d}{i}$ is a natural isomorphism between the
%% inclusion functor from the full subcategory whose objects are of the
%% form \F{\dsd d}{A}, and the functor \F{\dsd d}{\F{\dsd n}{}} restricted
%% to this subcategory).  To show this, we prove that \F{\dsd d}{i} is
%% equal to the $\F{\dsd d}{A}$ component of the following natural
%% transformation $j$, which uses $\dsd{unit} :
%% \tc{1}{\compo{\dsd{n}}{\dsd{d}}}$
%% \begin{diagram}
%% \F{\dsd d}{\F{\dsd n}{A}} & \rTo & 
%% \F{\compo{\dsd n}{\dsd d}}{A} & \rTo^{\F{\dsd{unit}}{}} &
%% \F{1}{A} & \rTo & 
%% A
%% \end{diagram}
%% The fact that $\ap{\F{\dsd{d}}{i}}{j_{\F{\dsd d}{A}}}$ follows from the
%% pseudofunctor associativity/unit coherences (used to show $\ap{\F{\dsd
%%     d}{i}}{ (F^\circ(\dsd n,\dsd d) \cuti F^\circ(\dsd{d},\compo{\dsd
%%     n}{\dsd d}))}$ and $F^\circ(\dsd d,1) = F^1_{\F{\dsd{d}}{A}}$) and
%% naturality of the composition isomorphism (used to show
%% $\ap{\F{\dsd{unit}}{} \cuti F^\circ(\dsd
%%   d,1)}{F^\circ(\dsd{d},\compo{\dsd n}{\dsd d})}$). Then $\ap {(\F{\dsd
%%     d}{\F{\dsd n} D'}) \cuti j} { j \cuti D'}$ is exactly the naturality
%% square for $j$.

\end{proof}

\subsection{Spatial Type Theory}
\label{sec:idempotent}

The above mode theory allows us to work with cohesive types (which have
mode \dsd{c}) and non-cohesive types (which have mode \dsd{s}).
However, because $\Delta$ and $\nabla$ are full and faithful, it is not
strictly necessary to ever work in \dsd{s} itself---we could
equivalently work in the image of $\Delta$ or $\nabla$ in \dsd{c}.  If
we wish to restrict ourselves to constructions in \dsd{c}, we can
simplify the mode theory to the (strictly) idempotent monad, which has
one object \dsd{c}, one generating 1-cell $\dsd{r} : \dsd{c} \ge
\dsd{c}$ such that $\compo{\dsd{r}}{\dsd{r}} = 1$, and one generating
2-cell $\dsd{unit} : \tc{1}{\dsd{r}}$ satisfying $\comph{\dsd
  t}{\dsd{unit}} = 1$ and $\comph{\dsd{unit}}{\dsd{r}} = 1$.  Observe
that the only 1-cells are $1$ and \dsd{r} and the only 2-cells are
$1_1$, $1_{\dsd{r}}$, and $\dsd{unit}$.  This mode theory embeds in the
walking reflection, with $\dsd{r} := \compo{\dsd{n}}{\dsd{d}}$, so we
could equivalently work in the \dsd{c}-types above.

For this mode theory, we define $\Flat{} := \F{\dsd{r}}{}$ and $\Sharp{}
:= \U{\dsd{r}}{}$.  In the walking reflection, we defined $\Flat{} :=
\Bx{\dsd{d}}{}$ and $\Sharp{} := \Crc{\dsd{n}}{}$ and then proved (in
the proof of Theorem~\ref{thm:adjointtriple}) that $\Flat{} \iso
\F{\compo{\dsd n}{\dsd d}}$ and $\Sharp{} \iso \U{\compo{\dsd n}{\dsd
    d}}$. Here, we take the other side of this isomorphism as the
definition, so we immediately have $\Flat{} \la \Sharp{}$ and $\Flat{}$
preserves coproducts, but we must prove that they are (co)monads.  A
simple route to this is to prove absorption, because $\Flat{\Sharp A} =
\F{\dsd{r}}{\U{\dsd{r}}{A}}$ is a comonad, and dually for $\Sharp{\Flat
  A}$.  

\begin{theorem}[Idempotence and Absorption]
 $\Flat{\Flat A} \iso \Flat A$ and $\Sharp{\Sharp A} \iso \Sharp A$
and $\Sharp{\Flat A} \iso \Sharp{A}$ 
and $\Flat{\Sharp A} \iso \Flat{A}$ naturally in $A$.
\end{theorem}
\begin{proof}
Because $\compo{\dsd r}{\dsd r} = {\dsd r}$, idempotence is just the
composition isomorphisms $F^\circ$ and $U^\circ$ from
Theorem~\ref{thm:syntacticpseudofunctor}.  The absorption isomorphisms
are constructed directly.
\end{proof}

In the extended version of this paper, we connect adjoint logic for this
mode theory to the rules for spatial type theory used
in~\citet{shulman15realcohesion}.

\section{Conclusion}

In this paper, we have defined an adjoint logic that allows multiple
different adjunctions between the same categories, shown soundness and
completeness of the logic in pseudofunctors $\M \to \Adj$, and used some
specific mode theories to model adjoint triples and the $\Flat{}$ and
$\Sharp{}$ modalities of axiomatic cohesion.  One area for future work
is to extend this adjoint logic with multiple assumptions and dependent
types (we discuss some special cases in the extended version).  
%% This would provide a context for investigating the shape modality
%% $\sh{} \la \Flat{}$.  We could certainly give a mode theory with one
%% mode and $\sh{} \la \Flat{} \la \Sharp{}$, or with two modes and $\sh
%% \la \Delta \la \Gamma \la \nabla$, but it remains to be investigated
%% whether this can provide the right properties for \sh{} beyond
%% adjointness.  On the one hand, too much might be true: \sh{} does not
%% preserve identity types, and the general dependently typed rules for
%% $F$ might force it to. On the other, too little might be true: for
%% applications such as relating the shape of the topological circle to
%% the homotopical circle, extra properties are needed, such as
%% $\sh{\mathbb{R}} \cong 1$.  Both of these issues can be addressed as
%% in \citep{shulman15realcohesion} by treating \sh{} not as an abstract
%% adjoint, of the kind we can represent using the mode 2-category, but
%% as a defined type (specifically, a higher inductive), which among
%% other things has the property that it is adjoint to $\Flat{}$
%% (adjoint logic / is still essential for representing $\Flat{}$ and
%% $\Sharp{}$ themselves).
Another area for future work is to consider $\infty$-category semantics,
rather than the 1-categorical semantics of derivations that we have
considered here.  A final area for future work is to look for
applications of other mode theories in our generalized adjoint logic
beyond the motivating example of cohesive homotopy type theory.

\paragraph{\textbf{Acknowledgments}} We thank Jason Reed for helpful
discussions about this work.

% \setlength{\bibsep}{-1.5pt} %% dirty trick: make this negative
{ \small
% \linespread{0.50}
\bibliographystyle{abbrvnat}
\bibliography{drl-common/cs}
}


\end{document}
